# 제 7회 롯데멤버스 빅데이터 경진대회

|기간|Tags|역할|
|:---:|:---:|:---:|
|2022.07. ~ 2022.08.| CollaborativeFiltering, TimeSeriesAnalysis |팀원, 시계열 예측 모델 및 ESG 지표 개발|

#### 요구사항: 고객 구매 데이터에 기반한 예측 모델 개발 및 개인화 마케팅 전략 제안
#### 1. 문제정의 및 목표 설정
- 롯데의 e-commerce 시장 점유율과 간편결제 서비스 사용률이 타사에 비해 현저히 뒤쳐지고 있다.
- 온라인 유입 이후 대량 구매와 오프라인 거래의 온라인 거래로 전환이 이루어짐에도 <br>
  이점 홍보와 이용 서비스가 부족으로 온라인 거래는 비활성화 상태이다.
- 사용자의 선호 상품과 유사한 상품을 추천하는 서비스를 개발하여 예측 구매 시점에 제시한다.
- 대량 구매를 유도하기 위해 연관 규칙 분석을 수행해 쇼핑 중 연관 상품을 추천한다.
- 롯데의 ESG 경영을 위해 구매별 ESG score를 산출하고 이를 마일리지로 Lpay와 연동해 Lpay 활성화까지 유도한다.

#### 2. 데이터 설명
<img width="310" alt="LOTTE" src="https://github.com/HASEOKYUNG/7th-LOTTEMembers-BigDataCompetition/assets/104245855/1d08ae6a-b332-45a9-b364-2c22a75f543c">

#### 3. 데이터 전처리
- 상품 구매 규칙을 도출하기 위해 거래당 상품 항목 종류수가 1개인 데이터는 제거한다.
- 구매 간격을 학습하는데 구매가 5번 이상 일어난 고객의 데이터만 사용하기로 한다.
- 다음 구매시점 예측을 위해 주말 구매 여부, 공휴일 구매 여부를 생성한다.

#### 4. 피쳐 엔지니어링 & 모델링
- 고객의 상품별 구매횟수를 호감도로 사용하고 정규화해 사용자-아이템 행렬을 구한다.
- Surprise 패키지로 학습시킨 모델들의 교차 검증 결과를 토대로 최고 성능 모델과 SVD로 행렬분해하여 메모리 절약과 성능 대비 빠른 학습시간의 이점을 갖는 모델을 결합한다.
- 고객별로 같은 일시, 유통사를 이용했을 때 구매한 상품중분류명을 구해 장바구니를 생성한다.
- mlxtend 패키지로 연관규칙을 구한 뒤 지지도가 가장 높은 상품을 추천하도록 한다.
- Lpay 데이터를 사용해 첫 구매일부터 해당 구매시점까지의 평균 구매액, 구매주기, 공휴일 비율, 온라인 비율 등의 변수를 생성한다.
- 표준화한 피쳐셋으로 Catboost를 학습시켜 다음 구매일자를 구한다.

#### 배운 점
- 중요 변수가 적고 집계된 변수가 많다는 데이터의 한계로 아이디어가 계속해서 바뀌며 시간 관계상 시계열 모델의 성능을 향상시키지 못했다.<br> 질적 데이터의 중요성을 체감했다.
- 미지했던 잠재요인 협업 필터링, 시계열 예측을 공부하고 변수 생성, 학습, 튜닝 등을 수행하며 기술을 익힐 수 있었다. 
- 2025년 공시 의무화되는 ESG를 고려하여 현실적인 서비스를 기획해보았다.
